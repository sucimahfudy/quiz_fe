<div *ngIf="questions.length > 0; else noQuestions">
  <div class="container mt-4">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card">
          <div class="card-body">
            <div *ngIf="currentQuestionIndex < questions.length">
              <div class="question-progress">
                Question {{ currentQuestionIndex + 1 }} / {{ questions.length }}
              </div>
              <h3 class="card-title">{{ questions[currentQuestionIndex].question }}</h3>
              <div class="options">
                <div class="form-check" *ngFor="let option of questions[currentQuestionIndex].options">
                  <label class="form-check-label">
                    <input
                      type="radio"
                      name="selectedOption"
                      class="form-check-input"
                      [value]="option"
                      (change)="selectOption(option)"
                      [checked]="selectedOption === option"
                    />
                    {{ option }}
                  </label>
                </div>
              </div>
              <button class="btn btn-primary" [disabled]="!selectedOption" (click)="nextQuestion()">
                Next
              </button>
            </div>
            <div *ngIf="currentQuestionIndex === questions.length" class="text-center">
              <h3>Quiz Completed!</h3>
              <button class="btn btn-success" (click)="submitQuiz()">Submit</button>
            </div>
            <div *ngIf="score !== null" class="text-center mt-4">
              <h3>Quiz Results</h3>
              <p>Your score: {{ score }} / {{ questions.length }}</p>
              <button class="btn btn-secondary" (click)="retakeQuiz()">Retake Quiz</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #noQuestions>
  <p class="text-center">No questions available.</p>
</ng-template>
